<?xml version="1.0"?>
<QRY:Definitions xmlns:QRY="http://www.ibsplc.com/xibase/persistence/queries" module="operations.dochandling">
	<QRY:Definition>
		<QRY:Id>1</QRY:Id>
		<QRY:Source Name="operations.dochandling.findFlightFileDetails" Type="NATIVE">
			<![CDATA[
				SELECT FLTFILMST.CMPCOD, FLTFILMST.ARPCOD,
				       FLTFILMST.FLTCARIDR, FLTFILMST.FLTSEQNUM,
				       FLTFILMST.LEGSERNUM, FLTFILMST.FLTFILNUM,
				       FLTFILMST.FLTFILDAT, PRONUMDTL.MSTDOCNUM,
				       PRONUMDTL.SEQNUM, PRONUMDTL.DUPNUM,
				       PRONUMDTL.DOCOWRIDR, PRONUMDTL.PRONUM,
				       SHPMST.SHPPFX,
				       (CASE ARLMST.APHCODUSE
				                WHEN 3
				                        THEN ARLMST.THRAPHCOD
				                ELSE ARLMST.TWOAPHCOD
				        END
				       )OWRCARCOD					   					   
					   
				  FROM OPRDOCFLTFIL FLTFILMST LEFT OUTER JOIN OPRDOCPRONUM PRONUMDTL
				       ON FLTFILMST.CMPCOD = PRONUMDTL.CMPCOD
				     AND FLTFILMST.FLTCARIDR = PRONUMDTL.FLTCARIDR
				     AND FLTFILMST.FLTSEQNUM = PRONUMDTL.FLTSEQNUM
				     AND FLTFILMST.LEGSERNUM = PRONUMDTL.LEGSERNUM
				     AND FLTFILMST.ARPCOD = PRONUMDTL.ARPCOD
				     AND FLTFILMST.FLTNUM = PRONUMDTL.FLTNUM
				       LEFT OUTER JOIN SHRARLMST ARLMST
				       ON PRONUMDTL.CMPCOD = ARLMST.CMPCOD
     				     AND PRONUMDTL.DOCOWRIDR = ARLMST.ARLIDR
     				      LEFT OUTER JOIN OPRSHPMST SHPMST 
				       ON PRONUMDTL.MSTDOCNUM=SHPMST.MSTDOCNUM
				       AND PRONUMDTL.DOCOWRIDR=SHPMST.DOCOWRIDR
				       AND PRONUMDTL.SEQNUM=SHPMST.SEQNUM
				       AND PRONUMDTL.DUPNUM=SHPMST.DUPNUM
  				       AND PRONUMDTL.CMPCOD=SHPMST.CMPCOD
				 WHERE FLTFILMST.CMPCOD = ?
				   AND FLTFILMST.ARPCOD = ?
				   AND FLTFILMST.FLTCARIDR = ?
				   AND FLTFILMST.FLTSEQNUM = ?
   				   AND FLTFILMST.LEGSERNUM = ?
   				   AND FLTFILMST.FLTNUM = ?
			 ]]>
		</QRY:Source>
	</QRY:Definition>
	<QRY:Definition>
		<QRY:Id>2</QRY:Id>
		<QRY:Source Name="operations.dochandling.findFileMovementDetails" Type="NATIVE">
			<![CDATA[SELECT FILMOV.TXNCOD,FILMOV.LSTUPDTIM,FIL.FLTFILDAT, FILHIS.SERNUM							
					,FILMOV.LSTUPDUSR, FILMOV.TXNRMK
				FROM OPRDOCFLTFIL FIL	 
					LEFT OUTER JOIN OPRDOCFLTFILMOV FILMOV
					  ON  FIL.FLTFILNUM = FILMOV.FLTFILNUM 
					   AND  FIL.ARPCOD = FILMOV.ARPCOD 
					   AND  FIL.CMPCOD = FILMOV.CMPCOD 					   
					   LEFT OUTER JOIN OPRDOCFLTFILMOVHIS FILHIS
					   ON FIL.FLTFILNUM = FILHIS.FLTFILNUM 
					   AND  FIL.ARPCOD = FILHIS.ARPCOD 
					   AND  FIL.CMPCOD = FILHIS.CMPCOD
					   WHERE 
				        FIL.FLTFILNUM= ?
			]]>
		</QRY:Source>
	</QRY:Definition>
	
	<QRY:Definition>
		<QRY:Id>3</QRY:Id>
		<QRY:Source Name="operations.dochandling.findFlightFileHistoryDetails" Type="NATIVE">
			<![CDATA[
					SELECT CMPCOD,ARPCOD,FLTFILNUM,SERNUM,USRCOD,TXNCOD,TXNRMK,TXNTIM
					FROM OPRDOCFLTFILMOVHIS
					WHERE
						CMPCOD = ?
					AND ARPCOD = ?
			]]>
		</QRY:Source>
	</QRY:Definition>
	
	<QRY:Definition>
			<QRY:Id>4</QRY:Id>
			<QRY:Source Name="operations.dochandling.findProNumberDetails" Type="NATIVE">
				<![CDATA[
					SELECT 	FIL.CMPCOD,FIL.ARPCOD,FIL.FLTCARIDR, FIL.FLTSEQNUM,
				       FIL.LEGSERNUM,FIL.FLTFILNUM,FIL.FLTFILDAT,
						(CASE ARLMST.APHCODUSE
							 WHEN 2
							  THEN ARLMST.TWOAPHCOD
						       ELSE ARLMST.THRAPHCOD
						 END) FLTCARCOD,FIL.FLTNUM,FIL.FLTDAT,PRO.PRONUM,PRO.MSTDOCNUM,PRO.DOCOWRIDR,PRO.DUPNUM,PRO.SEQNUM,
						     MST.SHPPFX,PRO.PRONUMTYP
						FROM OPRDOCPRONUM PRO ,OPRDOCFLTFIL FIL,SHRARLMST ARLMST,OPRSHPMST MST
						   WHERE FIL.ARPCOD=PRO.ARPCOD
						     AND FIL.CMPCOD=PRO.CMPCOD
							 AND FIL.FLTNUM=PRO.FLTNUM
							 AND FIL.FLTCARIDR=PRO.FLTCARIDR
							 AND FIL.FLTSEQNUM=PRO.FLTSEQNUM
							 AND FIL.LEGSERNUM=PRO.LEGSERNUM
							 AND FIL.CMPCOD = ARLMST.CMPCOD
						     AND FIL.FLTCARIDR = ARLMST.ARLIDR
							 AND FIL.CMPCOD = ARLMST.CMPCOD	
							 AND PRO.CMPCOD = MST.CMPCOD
							 AND PRO.MSTDOCNUM = MST.MSTDOCNUM		
							 AND PRO.DOCOWRIDR = MST.DOCOWRIDR
							 AND PRO.DUPNUM = MST.DUPNUM
							 
						     AND FIL.CMPCOD=?
						     
				 ]]>
			</QRY:Source>
	</QRY:Definition>
	
	
	<QRY:Definition>
			<QRY:Id>5</QRY:Id>
			<QRY:Source Name="operations.dochandling.findShipmentAgentDetails" Type="NATIVE">
				<![CDATA[
				SELECT SHPMST.MSTDOCNUM,SHPMST.CMPCOD,SHPMST.DOCOWRIDR,
				SHPMST.DUPNUM,SHPMST.SEQNUM,CUSAGT.AGTCOD,AGT.AGTNAM,
				AGT.AGTBOXNUM,SHPBOX.AGTBOXNUM AGTAGTBOXNUM,SHPBOX.TXNRMK,
				SHPBOX.LSTUPDUSR,SHPBOX.LSTUPDTIM
				
				FROM  OPRDOCSHPBOX SHPBOX 
				
				LEFT OUTER JOIN OPRSHPMST SHPMST
				ON SHPMST.DOCOWRIDR = SHPBOX.DOCOWRIDR
				AND SHPMST.CMPCOD = SHPBOX.CMPCOD
				 AND SHPMST.SEQNUM = SHPBOX.SEQNUM
				 AND SHPMST.DUPNUM = SHPBOX.DUPNUM
				 AND SHPMST.MSTDOCNUM = SHPBOX.MSTDOCNUM
				
				LEFT OUTER JOIN SHRCUSAGT CUSAGT
				ON SHPMST.CNSCOD = CUSAGT.CUSCOD
				 AND CUSAGT.IMPFLG = 'Y'
				 
				LEFT OUTER JOIN SHRAGTMST AGT 
				ON CUSAGT.AGTCOD = AGT.AGTCOD
				
				LEFT OUTER JOIN SHRCUSMST CUS
				ON CUS.CMPCOD = CUSAGT.CMPCOD
				AND CUS.CUSCOD = CUSAGT.CUSCOD
				                            
				WHERE SHPMST.CMPCOD = ?
					 AND SHPMST.DOCOWRIDR = ?
					 AND SHPMST.MSTDOCNUM = ?
					 AND SHPMST.DUPNUM = ?
					 AND SHPMST.SEQNUM = ?
			  UNION                           
			                                         
			 SELECT SHPMST.MSTDOCNUM,SHPMST.CMPCOD,SHPMST.DOCOWRIDR,
			                          SHPMST.DUPNUM,SHPMST.SEQNUM,CUSAGT.AGTCOD,AGT.AGTNAM,
			                          AGT.AGTBOXNUM,SHPBOX.AGTBOXNUM AGTAGTBOXNUM,SHPBOX.TXNRMK,
			                           SHPBOX.LSTUPDUSR,SHPBOX.LSTUPDTIM
			                         FROM SHRCUSAGT CUSAGT,
			                          SHRCUSMST CUS,
			                          SHRAGTMST AGT,
			                          OPRSHPMST SHPMST,
			                          OPRDOCSHPBOX SHPBOX
			                         WHERE CUS.CMPCOD = CUSAGT.CMPCOD
			                         AND CUS.CUSCOD = CUSAGT.CUSCOD(+)
			                         AND CUSAGT.AGTCOD = AGT.AGTCOD
			                         AND SHPMST.CNSCOD = CUSAGT.CUSCOD
			                         
			                         AND SHPMST.DOCOWRIDR = SHPBOX.DOCOWRIDR(+)
			                         AND SHPMST.CMPCOD = SHPBOX.CMPCOD(+)
			                         AND SHPMST.SEQNUM = SHPBOX.SEQNUM(+)
			                         AND SHPMST.DUPNUM = SHPBOX.DUPNUM(+)
			                         AND SHPMST.MSTDOCNUM = SHPBOX.MSTDOCNUM(+)
			                         
			                         AND SHPMST.CMPCOD = ?
						 AND SHPMST.DOCOWRIDR = ?
						 AND SHPMST.MSTDOCNUM = ?
						AND SHPMST.DUPNUM = ?
					 	AND SHPMST.SEQNUM = ?
                         			AND CUSAGT.IMPFLG = 'Y'
				 ]]>
			</QRY:Source>
	</QRY:Definition>
	
		<QRY:Definition>
			<QRY:Id>6</QRY:Id>
			<QRY:Source Name="operations.dochandling.findShipmentSatchelDetails" Type="NATIVE">
				<![CDATA[
					SELECT CMPCOD, ARPCOD, SCLNUM, DOCOWRIDR,
					MSTDOCNUM, DUPNUM, SEQNUM
					FROM OPRDOCSCLSHP
					WHERE CMPCOD=?
	 				      AND ARPCOD=?
						  AND DOCOWRIDR=?
						  AND MSTDOCNUM=?
						  AND SEQNUM=?
						  AND DUPNUM=?
						  AND SCLNUM=?
						 
				 ]]>
			</QRY:Source>
	</QRY:Definition>
	
		
		<QRY:Definition>
				<QRY:Id>7</QRY:Id>
				<QRY:Source Name="operations.dochandling.findDocHandover" Type="NATIVE">
					<![CDATA[
					
					SELECT OPR.AGTCOD,HNDOVR.CRDNUM, HNDOVR.AGTNAM,
					       HNDOVR.CRDHLDIDN AGTIDN, HNDOVR.CRDHLDADD AGTADD,HNDOVR.CRDHLDNAM,HNDOVR.TXNTIM,HNDOVR.ARPCOD
					  FROM OPRSHPMST OPR, OPRDOCHNDOVR HNDOVR
					 WHERE OPR.CMPCOD = HNDOVR.CMPCOD(+) 
					   AND OPR.DOCOWRIDR = HNDOVR.DOCOWRIDR(+)
					   AND OPR.MSTDOCNUM = HNDOVR.MSTDOCNUM(+)
					   AND OPR.DUPNUM = HNDOVR.DUPNUM(+)
					   AND OPR.SEQNUM = HNDOVR.SEQNUM(+)
					   AND OPR.MSTDOCNUM = ?
					   AND OPR.SEQNUM = ?
					   AND OPR.DUPNUM = ?
					   AND OPR.DOCOWRIDR = ?
	   				 AND OPR.CMPCOD = ?
					
					]]>
				</QRY:Source>
		</QRY:Definition>
	
	<QRY:Definition>
		<QRY:Id>8</QRY:Id>
		<QRY:Source Name="operations.dochandling.findFlightFileDetailsFromManifest" Type="NATIVE">
			<![CDATA[
			SELECT * FROM(
				SELECT FLTFILMST.CMPCOD, FLTFILMST.ARPCOD,
				       FLTFILMST.FLTCARIDR,
					   FLTFILMST.FLTNUM, 
					   FLTFILMST.FLTSEQNUM,
				       FLTFILMST.LEGSERNUM, 
					   FLTFILMST.FLTFILNUM,	   
				       FLTFILMST.FLTFILDAT, PRONUMDTL.MSTDOCNUM,
				       PRONUMDTL.SEQNUM, PRONUMDTL.DUPNUM,
				       PRONUMDTL.DOCOWRIDR, PRONUMDTL.PRONUM,
				        SHPMST.SHPPFX,
				       (CASE ARLMST.APHCODUSE
						WHEN 3
							THEN ARLMST.THRAPHCOD
						ELSE ARLMST.TWOAPHCOD
					END
				       ) OWRCARCOD, prnseqnum
				   FROM OPRDOCFLTFIL FLTFILMST LEFT OUTER JOIN OPRDOCPRONUM PRONUMDTL
				       ON FLTFILMST.CMPCOD = PRONUMDTL.CMPCOD
				     AND FLTFILMST.FLTCARIDR = PRONUMDTL.FLTCARIDR
				     AND FLTFILMST.FLTSEQNUM = PRONUMDTL.FLTSEQNUM
				     AND FLTFILMST.LEGSERNUM = PRONUMDTL.LEGSERNUM
				     AND FLTFILMST.ARPCOD = PRONUMDTL.ARPCOD
				     AND FLTFILMST.FLTNUM = PRONUMDTL.FLTNUM
				       LEFT OUTER JOIN SHRARLMST ARLMST
				       ON PRONUMDTL.CMPCOD = ARLMST.CMPCOD
     				     AND PRONUMDTL.DOCOWRIDR = ARLMST.ARLIDR
     				      LEFT OUTER JOIN OPRSHPMST SHPMST 
				       ON PRONUMDTL.MSTDOCNUM=SHPMST.MSTDOCNUM
				       AND PRONUMDTL.DOCOWRIDR=SHPMST.DOCOWRIDR
				       AND PRONUMDTL.SEQNUM=SHPMST.SEQNUM
				       AND PRONUMDTL.DUPNUM=SHPMST.DUPNUM
  				       AND PRONUMDTL.CMPCOD=SHPMST.CMPCOD
				 WHERE  FLTFILMST.CMPCOD = ?
				   AND FLTFILMST.ARPCOD = ?
				   AND FLTFILMST.FLTCARIDR = ?
				   AND FLTFILMST.FLTSEQNUM = ?
				   AND FLTFILMST.LEGSERNUM = ?
				   AND FLTFILMST.FLTNUM = ?


				UNION ALL

				SELECT IMPFLT.CMPCOD, IMPFLT.ARPCOD,
					   IMPFLT.FLTCARIDR,
							  IMPFLT.FLTNUM,  
						   IMPFLT.FLTSEQNUM,
				       IMPFLT.LEGSERNUM,to_char('NULL') FLTFILNUM,
							IMPFLT.FLTDAT,
							SHP.MSTDOCNUM, SHP.SEQNUM,
				       SHP.DUPNUM, SHP.DOCOWRIDR,TO_CHAR('NULL') PRONUM,

				       SHPMST.SHPPFX,
				       (CASE ARLMST.APHCODUSE
						WHEN 3
							THEN ARLMST.THRAPHCOD
						ELSE ARLMST.TWOAPHCOD
					END
				       ) OWRCARCOD, null as prnseqnum
				  FROM OPRSEGSHP SHP,
				       OPRARPIMPFLT IMPFLT,
				       OPRFLTSEG FLTSEG,
				       SHRARLMST ARLMST,
				       OPRSHPMST SHPMST 
				 WHERE FLTSEG.CMPCOD = IMPFLT.CMPCOD
				   AND FLTSEG.FLTNUM = IMPFLT.FLTNUM
				   AND FLTSEG.FLTSEQNUM = IMPFLT.FLTSEQNUM
				   AND FLTSEG.FLTCARIDR = IMPFLT.FLTCARIDR
				   AND FLTSEG.POU = IMPFLT.ARPCOD
				   AND FLTSEG.CMPCOD = SHP.CMPCOD
				   AND FLTSEG.FLTNUM = SHP.FLTNUM
				   AND FLTSEG.FLTSEQNUM = SHP.FLTSEQNUM
				   AND FLTSEG.FLTCARIDR = SHP.FLTCARIDR
				   AND FLTSEG.SEGSERNUM = SHP.SEGSERNUM
				   AND SHP.CMPCOD = ARLMST.CMPCOD
				   AND SHP.DOCOWRIDR = ARLMST.ARLIDR
				   AND SHP.MSTDOCNUM=SHPMST.MSTDOCNUM
				   AND SHP.DOCOWRIDR=SHPMST.DOCOWRIDR
				   AND SHP.SEQNUM=SHPMST.SEQNUM
				   AND SHP.DUPNUM=SHPMST.DUPNUM
		 		   AND SHP.CMPCOD=SHPMST.CMPCOD
				   AND SHP.MFTPCS > 0
				   AND IMPFLT.CMPCOD = ?
				   AND IMPFLT.ARPCOD = ?
				   AND IMPFLT.FLTCARIDR = ?
				   AND IMPFLT.FLTSEQNUM = ?
				   AND IMPFLT.LEGSERNUM = ?
   				   AND IMPFLT.FLTNUM = ?
				   )
				   order by prnseqnum
			 ]]>
		</QRY:Source>
	</QRY:Definition>
	
	<QRY:Definition>
		<QRY:Id>9</QRY:Id>
		<QRY:Source Name="operations.dochandling.listSatchelDetails" Type="NATIVE">
			<![CDATA[

			SELECT SCL.SCLNUM, DOC.STAFLG, DOC.DOCOWRIDR, DOC.SHPPFX, DOC.MSTDOCNUM,
			   DOC.DUPNUM, DOC.SEQNUM, DOC.SERNUM, 'SCL' AS STA, SCL.FLTNUM,
			   SCL.FLTSEQNUM, SCL.FLTCARIDR, SCL.ARPCOD, SCL.POU, SCL.FLTDAT,
			   SCL.FLTROU, SCL.CMPCOD, DOC.TXNTIM,
			   CASE
				 WHEN APHCODUSE = 2
				 THEN ARL.TWOAPHCOD
				 ELSE ARL.THRAPHCOD
				 END FLTCARCOD, SCL.LSTUPDTIM, SCL.LSTUPDUSR
			  FROM OPRDOCSCLMST SCL LEFT OUTER JOIN OPRDOCSCLSHP DOC
			   ON SCL.CMPCOD = DOC.CMPCOD
				AND SCL.SCLNUM = DOC.SCLNUM
				AND SCL.ARPCOD = DOC.ARPCOD
			   LEFT OUTER JOIN SHRARLMST ARL
			   ON SCL.CMPCOD = ARL.CMPCOD AND SCL.FLTCARIDR = ARL.ARLIDR
			 WHERE SCL.SCLNUM = ?  AND SCL.CMPCOD = ? AND SCL.ARPCOD = ?
		UNION
		SELECT MST.SCLNUM, NULL AS STAFLG, SHP.DOCOWRIDR, SHP.SHPPFX, SHP.MSTDOCNUM,
		   SHP.DUPNUM, SHP.SEQNUM, 0 AS SERNUM, 'MFT' AS STA, SEG.FLTNUM,
		   SEG.FLTSEQNUM, SEG.FLTCARIDR, MST.ARPCOD, MST.POU, MST.FLTDAT,
		   MST.FLTROU, MST.CMPCOD, NULL AS TXNTIM,
		   CASE
			 WHEN APHCODUSE = 2
			   THEN ARL.TWOAPHCOD
			 ELSE ARL.THRAPHCOD
		   END FLTCARCOD, MST.LSTUPDTIM, MST.LSTUPDUSR
		  FROM OPRDOCSCLMST MST LEFT OUTER JOIN OPRFLTSEG SEG
		  ON MST.CMPCOD = SEG.CMPCOD
			 AND MST.ARPCOD = SEG.POL
			 AND MST.FLTSEQNUM = SEG.FLTSEQNUM
			 AND MST.FLTCARIDR = SEG.FLTCARIDR
			 AND MST.FLTNUM = SEG.FLTNUM
			 AND MST.POU = SEG.POU
			 LEFT OUTER JOIN OPRSEGSHP SHP
			   ON SEG.FLTNUM = SHP.FLTNUM
			 AND SEG.FLTSEQNUM = SHP.FLTSEQNUM
			 AND SEG.FLTCARIDR = SHP.FLTCARIDR
			 AND SEG.SEGSERNUM = SHP.SEGSERNUM
			 AND SEG.CMPCOD = SHP.CMPCOD
			 AND SHP.MFTPCS > 0
		   LEFT OUTER JOIN SHRARLMST ARL
		   ON MST.CMPCOD = ARL.CMPCOD AND MST.FLTCARIDR = ARL.ARLIDR
		 WHERE MST.CMPCOD = ? AND MST.SCLNUM = ? AND MST.ARPCOD = ?

                            


			]]>
		</QRY:Source>   
		</QRY:Definition>	

		<QRY:Definition>
		<QRY:Id>10</QRY:Id>
		<QRY:Source Name="operations.dochandling.findpronumbersforreuse" Type="NATIVE">
			<![CDATA[

			 SELECT DOCPRO.ARPCOD ARPCOD,DOCPRO.CMPCOD CMPCOD,DOCPRO.MSTDOCNUM MSTDOCNUM,DOCPRO.FLTNUM FLTNUM,DOCPRO.PRONUM PRO,
				DOCPRO.DOCOWRIDR DOCOWRIDR,DOCPRO.DUPNUM DUPNUM,DOCPRO.SEQNUM SEQNUM,
				  DOCPRO.FLTCARIDR FLTCARIDR,DOCPRO.FLTSEQNUM FLTSEQNUM,DOCPRO.LEGSERNUM LEGSERNUM,
				FLTFIL.FLTFILNUM FLTFILNUM,FLTFIL.FLTFILDAT FLTFILDAT,FLTFIL.FLTDAT FLTDAT
			      FROM OPRDOCPRONUM DOCPRO INNER JOIN OPRDOCFLTFIL FLTFIL
			      ON DOCPRO.CMPCOD = FLTFIL.CMPCOD
			      AND DOCPRO.FLTNUM = FLTFIL.FLTNUM
			      AND DOCPRO.FLTSEQNUM = FLTFIL.FLTSEQNUM
			      AND DOCPRO.FLTCARIDR = FLTFIL.FLTCARIDR
			      AND DOCPRO.ARPCOD = FLTFIL.ARPCOD
			      WHERE 
			      DOCPRO.CMPCOD = ? AND 
      			      FLTFIL.FLTDAT  BETWEEN ? AND ?

			]]>
		</QRY:Source>
		</QRY:Definition>
		
		<QRY:Definition>
			<QRY:Id>11</QRY:Id>
			<QRY:Source Name="operations.dochandling.findFlightSatchelList" Type="NATIVE">
				<![CDATA[	
				SELECT SCLMST.CMPCOD,SCLMST.SCLNUM,SCLMST.FLTCARIDR,SCLMST.FLTNUM,SCLMST.FLTSEQNUM,SCLMST.ARPCOD,SCLMST.POU,SCLMST.FLTDAT,
				SCLMST.FLTROU
				FROM OPRDOCSCLMST SCLMST
				WHERE SCLMST.CMPCOD = ? 
				]]>
			</QRY:Source>
		</QRY:Definition>
		<QRY:Definition>
		<QRY:Id>12</QRY:Id>
		<QRY:Source Name="operations.dochandling.listUnloadedAwb" Type="NATIVE">
			<![CDATA[

			SELECT scl.sclnum,DOC.STAFLG,
				DOC.DOCOWRIDR, DOC.MSTDOCNUM, DOC.DUPNUM, DOC.SEQNUM,DOC.SERNUM,'SCL' AS STA ,DOC.SHPPFX,
				SCL.FLTNUM,SCL.FLTSEQNUM,SCL.FLTCARIDR,SCL.ARPCOD,SCL.POU,SCL.FLTDAT,DOC.CMPCOD,DOC.TXNTIM,
				CASE WHEN APHCODUSE = 2 THEN ARL.TWOAPHCOD ELSE ARL.THRAPHCOD END FLTCARCOD,
				SCL.LSTUPDTIM,SCL.LSTUPDUSR
				FROM  OPRDOCSCLMST SCL  
				LEFT OUTER JOIN OPRDOCSCLSHP DOC ON SCL.CMPCOD = DOC.CMPCOD 
				AND SCL.SCLNUM = DOC.SCLNUM 
				AND SCL.ARPCOD = DOC.ARPCOD 
				LEFT OUTER JOIN SHRARLMST ARL ON SCL.CMPCOD = ARL.CMPCOD
				AND SCL.FLTCARIDR = ARL.ARLIDR 
				WHERE 
				DOC.STAFLG='U' 
				AND SCL.SCLNUM = ?
				AND SCL.CMPCOD= ?
				AND SCL.ARPCOD= ?

			]]>
		</QRY:Source>   
		</QRY:Definition>	
		<QRY:Definition>
		<QRY:Id>13</QRY:Id>
		<QRY:Source Name="operations.dochandling.findaircrftregno" Type="NATIVE">
			<![CDATA[

			SELECT LEG.TALNUM FROM FLTOPRLEG LEG, OPRDOCSCLMST MST
			WHERE MST.CMPCOD = LEG.CMPCOD
				AND MST.ARPCOD = LEG.LEGORG
				AND MST.FLTNUM = LEG.FLTNUM
				AND MST.FLTCARIDR = LEG.FLTCARIDR
				AND MST.FLTSEQNUM = LEG.FLTSEQNUM
				AND MST.CMPCOD = ?
				AND MST.SCLNUM =?

			]]>
		</QRY:Source>   
		</QRY:Definition>
		
		<QRY:Definition>
			<QRY:Id>14</QRY:Id>
			<QRY:Source Name="operations.dochandling.findMaxSerialNoForBarcodeType" Type="NATIVE">
				<![CDATA[
			
					SELECT SERNUM, CMPCOD,ARPCOD,WHSCOD,BARCODTYP
					FROM OPRDOCBARDTL 
					WHERE CMPCOD=?
			                AND ARPCOD=?
			                AND WHSCOD=?
			                AND BARCODTYP=?
							FOR UPDATE
				 ]]>
			</QRY:Source>
		</QRY:Definition>
	
	    <QRY:Definition>
			<QRY:Id>15</QRY:Id>
			<QRY:Source Name="operations.dochandling.findAWBAgeReportDetails" Type="NATIVE">
				<![CDATA[
	
	               SELECT MST.SHPPFX, MST.MSTDOCNUM, MST.ORGCOD, MST.DSTCOD, MST.PRDNAM, SCLSHP.TXNTIM,MST.seqnum,MST.dupnum,
					 (SELECT MAX(ACPDTL.LSTUPDTIM) FROM OPRSHPACPDTL ACPDTL
                      WHERE MST.CMPCOD = ACPDTL.CMPCOD(+)
                            AND MST.MSTDOCNUM = ACPDTL.MSTDOCNUM(+)
                            AND MST.DOCOWRIDR = ACPDTL.DOCOWRIDR(+)
                            AND MST.SEQNUM = ACPDTL.SEQNUM(+)
                            AND MST.DUPNUM = ACPDTL.DUPNUM(+))EXEDAT,
                            (SELECT MAX(MFTCTM.LSTUPDTIM)
			         FROM OPRMFTCTMSHP MFTCTM
			        WHERE MST.CMPCOD = MFTCTM.CMPCOD(+)
			      AND MST.MSTDOCNUM  = MFTCTM.MSTDOCNUM(+)
			      AND MST.DOCOWRIDR  = MFTCTM.DOCOWRIDR(+)
			      AND MST.SEQNUM     = MFTCTM.SEQNUM(+)
			      AND MST.DUPNUM     = MFTCTM.DUPNUM(+)
  			    )CTMTIME

							  FROM OPRSHPMST MST ,OPRDOCSCLSHP SCLSHP
								WHERE MST.CMPCOD = SCLSHP.CMPCOD(+)
                              AND MST.MSTDOCNUM = SCLSHP.MSTDOCNUM(+)
                              AND MST.DOCOWRIDR = SCLSHP.DOCOWRIDR(+)
                              AND MST.SEQNUM = SCLSHP.SEQNUM(+)
                              AND MST.DUPNUM = SCLSHP.DUPNUM(+)
							  AND MST.SEQNUM = 1
                              AND MST.CMPCOD = ?
                              AND SCLSHP.ARPCOD(+)= ?
								  AND SCLSHP.TXNTIM >= ?
									AND SCLSHP.TXNTIM <= ?
             ]]>
			</QRY:Source>
		</QRY:Definition>
	  <QRY:Definition>
			<QRY:Id>16</QRY:Id>
			<QRY:Source Name="operations.dochandling.findImportAWBAgeReportDetails" Type="NATIVE">
				<![CDATA[
	              SELECT MST.SHPPFX, MST.MSTDOCNUM, MST.ORGCOD, MST.DSTCOD, MST.PRDNAM, PRONUM.TXNTIM PROTIM, HNDOVR.TXNTIM HNDOVRTIM				   
                  FROM OPRSHPMST MST LEFT OUTER JOIN OPRDOCPRONUM PRONUM
				  ON MST.CMPCOD = PRONUM.CMPCOD
                  	AND MST.MSTDOCNUM = PRONUM.MSTDOCNUM
					  AND MST.DOCOWRIDR = PRONUM.DOCOWRIDR
					  AND MST.SEQNUM = PRONUM.SEQNUM
					  AND MST.DUPNUM = PRONUM.DUPNUM
						  LEFT OUTER JOIN OPRDOCHNDOVR HNDOVR
						  ON MST.CMPCOD = HNDOVR.CMPCOD
							  AND MST.MSTDOCNUM = HNDOVR.MSTDOCNUM
							  AND MST.DOCOWRIDR = HNDOVR.DOCOWRIDR
							  AND MST.SEQNUM = HNDOVR.SEQNUM
							  AND MST.DUPNUM = HNDOVR.DUPNUM
								  WHERE MST.CMPCOD = ?
								  	AND PRONUM.ARPCOD= ?
									  AND PRONUM.TXNTIM >= ?
									  AND PRONUM.TXNTIM <= ?
                  
		     ]]>
			</QRY:Source>
		</QRY:Definition>
	
	<QRY:Definition>
			<QRY:Id>17</QRY:Id>
			<QRY:Source Name="operations.dochandling.findTransfersAWBAgeReportDetails" Type="NATIVE">
				<![CDATA[
	
	              SELECT MST.SHPPFX, MST.MSTDOCNUM, MST.ORGCOD, MST.DSTCOD, MST.PRDNAM, CTM.TXNTIM CTMTIME, SCLSHP.TXNTIM
					FROM OPRSHPMST MST  LEFT OUTER JOIN OPRMFTCTMSHP CTM 
						ON MST.CMPCOD = CTM.CMPCOD 
							AND MST.MSTDOCNUM = CTM.MSTDOCNUM 
							AND MST.DOCOWRIDR = CTM.DOCOWRIDR 
							AND MST.SEQNUM = CTM.SEQNUM 
							AND MST.DUPNUM = CTM.DUPNUM 
								LEFT OUTER JOIN OPRDOCSCLSHP SCLSHP 
									ON MST.CMPCOD = SCLSHP.CMPCOD 
										AND MST.MSTDOCNUM = SCLSHP.MSTDOCNUM 
										AND MST.DOCOWRIDR = SCLSHP.DOCOWRIDR 
										AND MST.SEQNUM = SCLSHP.SEQNUM 
										AND MST.DUPNUM = SCLSHP.DUPNUM 
											WHERE MST.CMPCOD = ? 
												AND SCLSHP.ARPCOD = ?
												AND CTM.TXNTIM >= ?
												AND CTM.TXNTIM <= ?
             ]]>
			</QRY:Source>
		</QRY:Definition>

       <QRY:Definition>
			<QRY:Id>15</QRY:Id>
			<QRY:Source Name="operations.dochandling.cargoextractreportdetails" Type="NATIVE">
				<![CDATA[
					SELECT PRONUM.PRONUM,
        					PRONUM.MSTDOCNUM,MST.SHPPFX,
							MST.DSTCOD,
							SEGSHP.MFTPCS,
							SEGSHP.MFTWGT,
							MST.SHPDES,
							MST.CNSNAM,
							SEGSHP.ARVRMK,
							FLTFIL.FLTFILNUM,
							FLTFIL.FLTFILDAT
					FROM OPRARPIMPFLT IMPFLT,
							OPRFLTSEG FLTSEG,
							OPRSEGSHP SEGSHP,
							OPRDOCPRONUM PRONUM,
							OPRSHPMST MST,
							OPRDOCFLTFIL FLTFIL
					WHERE IMPFLT.CMPCOD = FLTSEG.CMPCOD
					 AND IMPFLT.FLTCARIDR = FLTSEG.FLTCARIDR
					 AND IMPFLT.FLTNUM = FLTSEG.FLTNUM
					 AND IMPFLT.FLTSEQNUM = FLTSEG.FLTSEQNUM
					 AND IMPFLT.ARPCOD = FLTSEG.POU
					
					 AND FLTSEG.CMPCOD = SEGSHP.CMPCOD
					 AND FLTSEG.FLTCARIDR = SEGSHP.FLTCARIDR
					 AND FLTSEG.FLTNUM = SEGSHP.FLTNUM
					 AND FLTSEG.FLTSEQNUM = SEGSHP.FLTSEQNUM
					 AND FLTSEG.SEGSERNUM = SEGSHP.SEGSERNUM
					 
					 
					 AND FLTFIL.CMPCOD = PRONUM.CMPCOD
					 AND FLTFIL.ARPCOD = PRONUM.ARPCOD
					 AND FLTFIL.FLTCARIDR = PRONUM.FLTCARIDR
					 AND FLTFIL.FLTNUM = PRONUM.FLTNUM
					 AND FLTFIL.FLTSEQNUM = PRONUM.FLTSEQNUM
					
					 AND PRONUM.CMPCOD = IMPFLT.CMPCOD
					 AND PRONUM.FLTCARIDR = IMPFLT.FLTCARIDR
					 AND PRONUM.FLTNUM = IMPFLT.FLTNUM
					 AND PRONUM.FLTSEQNUM = IMPFLT.FLTSEQNUM
					 AND PRONUM.ARPCOD = IMPFLT.ARPCOD
					 AND PRONUM.DOCOWRIDR = SEGSHP.DOCOWRIDR
					 AND PRONUM.MSTDOCNUM = SEGSHP.MSTDOCNUM
					 AND PRONUM.SEQNUM = SEGSHP.SEQNUM
					 AND PRONUM.DUPNUM = SEGSHP.DUPNUM
					
					 AND SEGSHP.CMPCOD = MST.CMPCOD
					 AND SEGSHP.DOCOWRIDR = MST.DOCOWRIDR
					 AND SEGSHP.MSTDOCNUM = MST.MSTDOCNUM
					 AND SEGSHP.SEQNUM = MST.SEQNUM
					 AND SEGSHP.DUPNUM = MST.DUPNUM
					
					 AND IMPFLT.CMPCOD = ?
					 AND IMPFLT.FLTCARIDR = ?
					 AND IMPFLT.FLTNUM = ?
					 AND IMPFLT.FLTDAT = ?
					 AND IMPFLT.FLTSEQNUM = ?
					 AND IMPFLT.ARPCOD = ?
					

				 ]]>
			</QRY:Source>
		</QRY:Definition>
	
	
	<QRY:Definition>
			<QRY:Id>16</QRY:Id>
			<QRY:Source Name="operations.dochandling.findAWBReceivedWithoutDocDetails" Type="NATIVE">
				<![CDATA[
					 SELECT MST.CMPCOD,MST.SHPPFX,MST.MSTDOCNUM,MST.DOCNUM,MST.SEQNUM,MST.DUPNUM,
					  MST.DOCOWRIDR,MST.PARSEQNUM ,TRKNUM.TRKNUM,TRKNUM.LOCCOD,SEGSHP.MFTPCS,
					  SEGSHP.MFTWGT,SEGSHP.RCVPCS  ,SEGSHP.RCVWGT,IMPFLT.FLTCARCOD ,IMPFLT.FLTCARIDR ,
					  IMPFLT.FLTSEQNUM ,IMPFLT.LEGSERNUM ,IMPFLT.FLTNUM ,IMPFLT.FLTDAT,FLTFIL.FLTFILNUM
					   FROM OPRSEGSHP SEGSHP ,
					  OPRARPIMPFLT IMPFLT    ,
					  OPRFLTSEG FLTSEG       ,
					  OPRSHPMST MST          ,
					  WHSSHPTRKNUMDTL TRKNUM ,
					  WHSLOCMST LOCMST       ,
					  OPRDOCFLTFIL FLTFIL
							       WHERE FLTSEG.CMPCOD = IMPFLT.CMPCOD
							       AND FLTSEG.FLTNUM = IMPFLT.FLTNUM
	   							   AND FLTSEG.FLTSEQNUM = IMPFLT.FLTSEQNUM
								   AND FLTSEG.FLTCARIDR = IMPFLT.FLTCARIDR
								   AND FLTSEG.POU = IMPFLT.ARPCOD
					AND FLTSEG.CMPCOD     = SEGSHP.CMPCOD
					AND FLTSEG.FLTNUM     = SEGSHP.FLTNUM
					AND FLTSEG.FLTSEQNUM  = SEGSHP.FLTSEQNUM
					AND FLTSEG.FLTCARIDR  = SEGSHP.FLTCARIDR
					AND FLTSEG.SEGSERNUM  = SEGSHP.SEGSERNUM
					AND SEGSHP.CMPCOD     = MST.CMPCOD
					AND SEGSHP.MSTDOCNUM  = MST.MSTDOCNUM
					AND SEGSHP.DOCOWRIDR  = MST.DOCOWRIDR
					AND
					  1=
					  CASE
						WHEN MST.DSTCOD   = IMPFLT.ARPCOD
						AND SEGSHP.SEQNUM = MST.PARSEQNUM
						THEN 1
						WHEN MST.DSTCOD  <> IMPFLT.ARPCOD
						AND SEGSHP.SEQNUM = MST.SEQNUM
						THEN 1
					  END
					AND SEGSHP.DUPNUM    = MST.DUPNUM
					AND MST.CMPCOD       = TRKNUM.CMPCOD
					AND MST.MSTDOCNUM    = TRKNUM.MSTDOCNUM
					AND MST.DOCOWRIDR    = TRKNUM.DOCOWRIDR
					AND MST.SEQNUM       = TRKNUM.SEQNUM
					AND MST.DUPNUM       = TRKNUM.DUPNUM
					AND TRKNUM.CMPCOD    = LOCMST.CMPCOD
					AND TRKNUM.ARPCOD    = LOCMST.ARPCOD
					AND TRKNUM.WHSCOD    = LOCMST.WHSCOD
					AND TRKNUM.LOCCOD    = LOCMST.LOCCOD
								   AND FLTSEG.CMPCOD = FLTFIL.CMPCOD(+)
	   							   AND FLTSEG.FLTNUM = FLTFIL.FLTNUM(+)
								   AND FLTSEG.FLTSEQNUM = FLTFIL.FLTSEQNUM(+)
								   AND FLTSEG.FLTCARIDR = FLTFIL.FLTCARIDR(+)
								   AND FLTSEG.POU = FLTFIL.ARPCOD(+)
					AND NOT EXISTS
					  (SELECT 1
						 FROM OPRDOCPRONUM PRONUM
						WHERE MST.CMPCOD = PRONUM.CMPCOD
					  AND MST.MSTDOCNUM  = PRONUM.MSTDOCNUM
					  AND MST.DOCOWRIDR  = PRONUM.DOCOWRIDR
					  AND 1              =
						CASE
						      WHEN MST.SEQNUM   > 1
						  AND MST.PARSEQNUM = PRONUM.SEQNUM
						  THEN 1
						      WHEN MST.SEQNUM = 1
						  AND MST.SEQNUM   = PRONUM.SEQNUM
						  THEN 1
						END
					  AND MST.DUPNUM = PRONUM.DUPNUM
					  )
					AND MST.CMPCOD       = ?
								   AND IMPFLT.FLTDAT = ?
				 ]]>
			</QRY:Source>
		</QRY:Definition>
				<QRY:Definition>
		<QRY:Id>18</QRY:Id>
		<QRY:Source Name="operations.dochandling.deletealldocumentlocationdetails" Type="OBJECT">
		<![CDATA[
		SELECT
		docLocationMaster
		FROM
		com.ibsplc.icargo.business.operations.dochandling.DocumentLocationMaster AS docLocationMaster
		WHERE
		docLocationMaster.documentLocationMasterPK.companyCode = ?

		]]>
		</QRY:Source>
		</QRY:Definition>
		<QRY:Definition>
		<QRY:Id>19</QRY:Id>
		<QRY:Source Name="operations.dochandling.finddocumentlocationlovdetails" Type="NATIVE">
			<![CDATA[
			SELECT CMPCOD,ARPCOD,DPTCOD,SHFIDR FROM OPRDOCLOCMST LOCMST
				WHERE  LOCMST.CMPCOD=?
			]]>
		</QRY:Source>
		</QRY:Definition>
		<QRY:Definition>
		<QRY:Id>19</QRY:Id>
		<QRY:Source Name="operations.dochandling.findDocumentInLocationDetails" Type="NATIVE">
			<![CDATA[
			SELECT SHPMST.DOCOWRIDR,
			SHPMST.SHPPFX,
			SHPMST.MSTDOCNUM,
			SHPMST.DUPNUM,
			SHPMST.SEQNUM,
			SCLMST.FLTNUM,
			SCLMST.FLTSEQNUM,
			SCLMST.FLTCARIDR,
			SHPMST.CMPCOD,
			LOCDTL.SHFIDR,
			LOCDTL.SERNUM,
			CASE 
				WHEN LOCDTL.MSTDOCNUM IS NOT NULL
				THEN LOCDTL.SCLNUM
				ELSE SCLMST.SCLNUM
			END SCLNUM,
			SHPDTL.DRPOFFDAT,
			(
			CASE
			  WHEN SCLMST.FLTNUM IS NOT NULL
			  AND SEGSHP.FLTNUM  IS NOT NULL
			  AND SEGSHP.FLTNUM   =SCLMST.FLTNUM
			  AND SEGSHP.MFTPCS   > 0
			  THEN SEGSHP.MFTPCS
			  ELSE 0
			END) MFTPCS,
			(
			CASE
			  WHEN SCLMST.FLTNUM IS NOT NULL
			  AND SEGSHP.FLTNUM  IS NOT NULL
			  AND SEGSHP.FLTNUM   =SCLMST.FLTNUM
			  AND SEGSHP.MFTPCS   > 0
			  THEN (
				CASE
				  WHEN SCLMST.SCLNUM IS NOT NULL
				  THEN 'SCL,MFT'
				  ELSE 'MFT'
				END)
			  ELSE (
				CASE
				  WHEN SCLMST.SCLNUM IS NOT NULL
				  THEN 'SCL'
				  ELSE 'NONMFST'
				END)
			END) AWBSTA,
			(
			CASE
			  WHEN ARLMST.APHCODUSE = 2
			  THEN ARLMST.TWOAPHCOD
			  ELSE ARLMST.THRAPHCOD
			END) FLTCARCOD,
			SHPMST.LSTUPDTIM,
			SHPMST.LSTUPDUSR,
			(SELECT 1
			FROM SHRSYSPAR
			WHERE CMPCOD                                                        = SHPMST.CMPCOD
			AND PARCOD                                                          ='operations.shipment.eawbsccs'
			AND PKG_FRMWRK.FUN_STRING_CHECK(SHRSYSPAR.PARVAL,SHPMST.SCCCOD,',') > 0
			) AWBTYP,
			SCLMST.FLTDAT
			FROM OPRSHPMST SHPMST
			INNER JOIN OPRSHPDTL SHPDTL
			ON SHPMST.MSTDOCNUM  = SHPDTL.MSTDOCNUM
			AND SHPMST.DOCOWRIDR = SHPDTL.DOCOWRIDR
			AND SHPMST.DUPNUM    = SHPDTL.DUPNUM
			AND SHPMST.SEQNUM    = SHPDTL.SEQNUM
			AND SHPMST.CMPCOD    = SHPDTL.CMPCOD
			LEFT OUTER JOIN OPRSEGSHP SEGSHP
			ON SHPMST.MSTDOCNUM  = SEGSHP.MSTDOCNUM
			AND SHPMST.DOCOWRIDR = SEGSHP.DOCOWRIDR
			AND SHPMST.DUPNUM    = SEGSHP.DUPNUM
			AND SHPMST.SEQNUM    = SEGSHP.SEQNUM
			AND SHPMST.CMPCOD    = SEGSHP.CMPCOD
			LEFT OUTER JOIN OPRFLTSEG FLTSEG
			ON SEGSHP.FLTNUM     = FLTSEG.FLTNUM
			AND SEGSHP.FLTSEQNUM = FLTSEG.FLTSEQNUM
			AND SEGSHP.FLTCARIDR = FLTSEG.FLTCARIDR
			AND SEGSHP.SEGSERNUM = FLTSEG.SEGSERNUM
			AND SEGSHP.CMPCOD    = FLTSEG.CMPCOD
			AND ( FLTSEG.POU = ? OR FLTSEG.POL = ?)   
			LEFT OUTER JOIN FLTOPRMST FLTMST
            ON SEGSHP.FLTNUM     = FLTMST.FLTNUM
            AND SEGSHP.FLTSEQNUM = FLTMST.FLTSEQNUM
            AND SEGSHP.FLTCARIDR = FLTMST.FLTCARIDR
            AND SEGSHP.CMPCOD    = FLTMST.CMPCOD 
			LEFT OUTER JOIN FLTOPRLEG FLTLEG
			ON FLTSEG.FLTNUM     = FLTLEG.FLTNUM
			AND FLTSEG.FLTSEQNUM = FLTLEG.FLTSEQNUM
			AND FLTSEG.FLTCARIDR = FLTLEG.FLTCARIDR
			AND FLTSEG.CMPCOD    = FLTLEG.CMPCOD
			AND FLTSEG.POU    	 = FLTLEG.LEGDST
			LEFT OUTER JOIN SHRARLMST ARLMST
			ON SEGSHP.CMPCOD     = ARLMST.CMPCOD
			AND SEGSHP.FLTCARIDR = ARLMST.ARLIDR
			LEFT OUTER JOIN OPRDOCSCLSHP SCLSHP
			ON SHPMST.MSTDOCNUM  = SCLSHP.MSTDOCNUM
			AND SHPMST.DOCOWRIDR = SCLSHP.DOCOWRIDR
			AND SHPMST.DUPNUM    = SCLSHP.DUPNUM
			AND SHPMST.SEQNUM    = SCLSHP.SEQNUM
			AND SHPMST.CMPCOD    = SCLSHP.CMPCOD
			AND     ?            = SCLSHP.ARPCOD
			AND NVL(SCLSHP.STAFLG,'X') <> 'U'
			LEFT OUTER JOIN OPRDOCSCLMST SCLMST
			ON SCLMST.SCLNUM      = SCLSHP.SCLNUM
			AND SCLMST.ARPCOD     = SCLSHP.ARPCOD
			AND SCLMST.CMPCOD     = SCLSHP.CMPCOD
			LEFT OUTER JOIN OPRDOCLOCDTL LOCDTL
            ON SHPMST.MSTDOCNUM  = LOCDTL.MSTDOCNUM
            AND SHPMST.DOCOWRIDR = LOCDTL.DOCOWRIDR
            AND SHPMST.DUPNUM    = LOCDTL.DUPNUM
            AND SHPMST.SEQNUM    = LOCDTL.SEQNUM
            AND SHPMST.CMPCOD    = LOCDTL.CMPCOD
            AND  ?               = LOCDTL.ARPCOD
			WHERE SHPMST.CMPCOD   = ?
			AND (SEGSHP.FLTNUM IS NULL OR SEGSHP.FLTNUM=FLTSEG.FLTNUM)
			]]>
		</QRY:Source>
		</QRY:Definition>
		<QRY:Definition>
		<QRY:Id>19</QRY:Id>
		<QRY:Source Name="operations.dochandling.finddocumentlocationdetailsforawb" Type="NATIVE">
			<![CDATA[
			SELECT CMPCOD,MSTDOCNUM,SHFIDR,SERNUM,DOCOWRIDR,SEQNUM,DUPNUM,SCLNUM,ARPCOD,LSTUPDTIM,LSTUPDUSR FROM OPRDOCLOCDTL 
				WHERE CMPCOD=?
	 				AND ARPCOD=?
					AND DOCOWRIDR=?
					AND MSTDOCNUM=?
					AND SEQNUM=?
					AND DUPNUM=?
			]]>
		</QRY:Source>
		</QRY:Definition>		
		
</QRY:Definitions>

